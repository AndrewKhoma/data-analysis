# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ2

–†–æ–∑–≥–ª—è–Ω–µ–º–æ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –≤ R –¥–∞—Ç–∞—Å–µ—Ç —â–æ –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ –ø—Ä–æ –¥–æ—Ä–æ–∂–Ω—ñ –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö —É —Å–ø–æ–ª—É—á–µ–Ω–∏—Ö —à—Ç–∞—Ç–∞—Ö –º–∞—à–∏–Ω –≤–∏–ø—É—Å–∫—É 70-–∏—Ö —Ä–æ–∫—ñ–≤ –º–∏–Ω—É–ª–æ–≥–æ —Å—Ç–æ—Ä—ñ—á—á—è. 

–ü—Ä–æ–≤–µ–¥–µ–º–æ –∫–æ—Ä–µ–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑, –¥–ª—è –Ω—å–æ–≥–æ –Ω–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –Ω–µ –≤–±—É–¥–æ–≤–∞–Ω–∏–π –≤ R –ø–∞–∫–µ—Ç `corrplot`. –ë—ñ–ª—å—à –¥–µ—Ç–∞–ª—å–Ω–∏–π –º–∞–Ω—É–∞–ª –∑ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—â–µ–Ω–∏–π –Ω–∞ –º–æ—î–º—É –≥—ñ—Ç—Ö–∞–±—ñ —ñ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ [–ø–æ—Å–∏–ª–∞–Ω–Ω—è–º](https://github.com/Sky-Nik/data-analysis/blob/master/labs/lab-2/corrplot.md).

–í–∂–µ –∑–≤–∏—á–Ω–æ—é –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—î—é –∫–æ–º–∞–Ω–¥ –≤—Ç—Å–∞–Ω–æ–≤–∏–º–æ —ñ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–∏–º–æ —Ü–µ–π –ø–∞–∫–µ—Ç:
```R
install.packages("corrplot")
library(corrplot)
```

–ü–µ—Ä–µ–¥ –∞–Ω–∞–ª—ñ–∑–æ–º –ø–æ–≥–ª—è–Ω–µ–º–æ –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç —â–æ–± –∫—Ä–∞—â–µ —Ä–æ–∑—É–º—ñ—Ç–∏ –π–æ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É
```R
mtcars
```
                    |  mpg | cyl |  disp |  hp | drat |    wt |  qsec | vs | am | gear | carb
--------------------|------|-----|-------|-----|------|-------|-------|----|----|------|-----
Mazda RX4           | 21.0 |   6 | 160.0 | 110 | 3.90 | 2.620 | 16.46 |  0 |  1 |    4 |    4
Mazda RX4 Wag       | 21.0 |   6 | 160.0 | 110 | 3.90 | 2.875 | 17.02 |  0 |  1 |    4 |    4
Datsun 710          | 22.8 |   4 | 108.0 |  93 | 3.85 | 2.320 | 18.61 |  1 |  1 |    4 |    1
Hornet 4 Drive      | 21.4 |   6 | 258.0 | 110 | 3.08 | 3.215 | 19.44 |  1 |  0 |    3 |    1
Hornet Sportabout   | 18.7 |   8 | 360.0 | 175 | 3.15 | 3.440 | 17.02 |  0 |  0 |    3 |    2
Valiant             | 18.1 |   6 | 225.0 | 105 | 2.76 | 3.460 | 20.22 |  1 |  0 |    3 |    1
Duster 360          | 14.3 |   8 | 360.0 | 245 | 3.21 | 3.570 | 15.84 |  0 |  0 |    3 |    4
Merc 240D           | 24.4 |   4 | 146.7 |  62 | 3.69 | 3.190 | 20.00 |  1 |  0 |    4 |    2
Merc 230            | 22.8 |   4 | 140.8 |  95 | 3.92 | 3.150 | 22.90 |  1 |  0 |    4 |    2
Merc 280            | 19.2 |   6 | 167.6 | 123 | 3.92 | 3.440 | 18.30 |  1 |  0 |    4 |    4
Merc 280C           | 17.8 |   6 | 167.6 | 123 | 3.92 | 3.440 | 18.90 |  1 |  0 |    4 |    4
Merc 450SE          | 16.4 |   8 | 275.8 | 180 | 3.07 | 4.070 | 17.40 |  0 |  0 |    3 |    3
Merc 450SL          | 17.3 |   8 | 275.8 | 180 | 3.07 | 3.730 | 17.60 |  0 |  0 |    3 |    3
Merc 450SLC         | 15.2 |   8 | 275.8 | 180 | 3.07 | 3.780 | 18.00 |  0 |  0 |    3 |    3
Cadillac Fleetwood  | 10.4 |   8 | 472.0 | 205 | 2.93 | 5.250 | 17.98 |  0 |  0 |    3 |    4
Lincoln Continental | 10.4 |   8 | 460.0 | 215 | 3.00 | 5.424 | 17.82 |  0 |  0 |    3 |    4
Chrysler Imperial   | 14.7 |   8 | 440.0 | 230 | 3.23 | 5.345 | 17.42 |  0 |  0 |    3 |    4
Fiat 128            | 32.4 |   4 |  78.7 |  66 | 4.08 | 2.200 | 19.47 |  1 |  1 |    4 |    1
Honda Civic         | 30.4 |   4 |  75.7 |  52 | 4.93 | 1.615 | 18.52 |  1 |  1 |    4 |    2
Toyota Corolla      | 33.9 |   4 |  71.1 |  65 | 4.22 | 1.835 | 19.90 |  1 |  1 |    4 |    1
Toyota Corona       | 21.5 |   4 | 120.1 |  97 | 3.70 | 2.465 | 20.01 |  1 |  0 |    3 |    1
Dodge Challenger    | 15.5 |   8 | 318.0 | 150 | 2.76 | 3.520 | 16.87 |  0 |  0 |    3 |    2
AMC Javelin         | 15.2 |   8 | 304.0 | 150 | 3.15 | 3.435 | 17.30 |  0 |  0 |    3 |    2
Camaro Z28          | 13.3 |   8 | 350.0 | 245 | 3.73 | 3.840 | 15.41 |  0 |  0 |    3 |    4
Pontiac Firebird    | 19.2 |   8 | 400.0 | 175 | 3.08 | 3.845 | 17.05 |  0 |  0 |    3 |    2
Fiat X1-9           | 27.3 |   4 |  79.0 |  66 | 4.08 | 1.935 | 18.90 |  1 |  1 |    4 |    1
Porsche 914-2       | 26.0 |   4 | 120.3 |  91 | 4.43 | 2.140 | 16.70 |  0 |  1 |    5 |    2
Lotus Europa        | 30.4 |   4 |  95.1 | 113 | 3.77 | 1.513 | 16.90 |  1 |  1 |    5 |    2
Ford Pantera L      | 15.8 |   8 | 351.0 | 264 | 4.22 | 3.170 | 14.50 |  0 |  1 |    5 |    4
Ferrari Dino        | 19.7 |   6 | 145.0 | 175 | 3.62 | 2.770 | 15.50 |  0 |  1 |    5 |    6
Maserati Bora       | 15.0 |   8 | 301.0 | 335 | 3.54 | 3.570 | 14.60 |  0 |  1 |    5 |    8
Volvo 142E          | 21.4 |   4 | 121.0 | 109 | 4.11 | 2.780 | 18.60 |  1 |  1 |    4 |    2

–ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –∑–º—ñ–Ω–Ω–∏—Ö:
* mpg: (–∞–º–µ—Ä–∏–∫–∞–Ω—Å—å–∫—ñ) –º–∏–ª—ñ —Ö–æ–¥—É –Ω–∞ –≥–∞–ª–æ–Ω –ø–∞–ª—å–Ω–æ–≥–æ;
* cyl: –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ü–∏–ª—Ñ–Ω–¥—Ä—ñ–≤ —É –º–æ—Ç–æ—Ä—ñ;
* disp: –æ–±'—î–º –¥–≤–∏–≥—É–Ω–∞;
* hp: –ø–æ–≤–Ω–∞ –ø–æ—Ç—É–∂–Ω—ñ—Å—Ç—å (–∫—ñ–Ω—Å—å–∫–∏—Ö —Å–∏–ª);
* drat: –ø–µ—Ä–µ–¥–∞—Ç–Ω–µ –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è (–∑–∞–¥–Ω—å–æ—ó –≤—ñ—Å—ñ);
* wt: –≤–∞–≥–∞ (—Ç–∏—Å—è—á —Ñ—É–Ω—Ç—ñ–≤);
* qsec: —á–∞—Å –Ω–∞ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —á–≤–µ—Ä—Ç—ñ –º–∏–ª—ñ;
* vs: –∫—É—Ç —Ä–æ–∑–≤–∞–ª—É —Ü–∏–ª—ñ–Ω–¥—Ä—ñ–≤, –∫–∞—Ç–µ–≥–æ—Ä—ñ–∞–ª—å–Ω–∞ –æ–∑–Ω–∞–∫–∞ (0 —è–∫—â–æ –¥–≤–∏–≥—É–Ω V-–ø–æ–¥—ñ–Ω–∏–π —ñ 1 —è–∫—â–æ –ø—Ä—è–º–∏–π);
* am: –∫–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á (0 = –∞–≤—Ç–æ–º–∞—Ç, 1 = –º–µ—Ö–∞–Ω—ñ–∫–∞);
* gear: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á;
* carb: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞—Ä–±—é—Ä–∞—Ç–æ—Ä—ñ–≤.

–ù–∞ –ø–µ—Ä—à–∏–π –ø–æ–≥–ª—è–¥ –∑–¥–∞—î—Ç—å—Å—è, —â–æ –≤–∞–≥–∞ –º–∞—î –±—É—Ç–∏ –ø—Ä—è–º–æ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ—é —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—é –ø–∞–ª–∏–≤–∞,–∞ –æ—Ç–∂–µ –æ–±–µ—Ä–Ω–µ–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ—é —Ö–æ–¥—É –Ω–∞ –≥–∞–ª–æ–Ω, –∞ —Ç–∞–∫–æ–∂ —à–≤–∏–¥–∫–æ—Å—Ç—ñ —Ä–æ–∑–≥–æ–Ω—É (–∞ —Ç–æ–º—É —ñ —á–∞—Å—É –Ω–∞ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —á–≤–µ—Ä—Ç—ñ –º–∏–ª—ñ), –∞–ª–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –º—ñ–∂ –∫—É—Ç–æ–º —Ä–æ–∑–≤–∞–ª—É —Ü–∏–ª—ñ–Ω–¥—Ä—ñ–≤ –∞ –æ–±'—î–º–æ–º –¥–≤–∏–≥—É–Ω–∞ –∑–æ–≤—Å—ñ–º –Ω–µ —Ç–∞–∫–∏–π –æ—á–µ–≤–∏–¥–Ω–∏–π, —è–∫ —ñ –∑–≤'—è–∑–æ–∫ –º—ñ–∂ –±—ñ–ª—å—à—ñ—Å—Ç—é –≤–∏—â–µ–∑–≥–∞–¥–∞–Ω–∏—Ö –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤, —Ç–æ–º—É —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è –ø–æ—Ç—É–∂–Ω—ñ—à–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –Ω—ñ–∂ "–º–µ—Ç–æ–¥ –ø–∏–ª—å–Ω–æ–≥–æ –ø–æ–≥–ª—è–¥—É".

–ê —Å–∞–º–µ, –∑–Ω–∞–π–¥–µ–º–æ –∫–æ—Ä–µ–ª—è—Ü—ñ–π–Ω—É –º–∞—Ç—Ä–∏—Ü—é —Ü—å–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç—É:
```R
M <- cor(mtcars)
```

–í–∏–≤–æ–¥–∏—Ç–∏ –º–∞—Ç—Ä–∏—Ü—é —Ä–æ–∑–º—ñ—Ä—É 11 –Ω–∞ 11 —ñ –≤–≥–ª—è–¥–∞—Ç–∏—Å—è —É 121 —á–∏—Å–ª–æ (–Ω–µ—Ö–∞–π 11 –∑ –Ω–∏—Ö —ñ –¥–æ—Ä—ñ–≤–Ω—é—é—Ç—å –æ–¥–∏–Ω–∏—Ü—ñ –∞ —Ä–µ—à—Ç–∞ —Ä–æ–∑–±–∏–≤–∞—é—Ç—å—Å—è –Ω–∞ 55 –ø–∞—Ä —Ä—ñ–≤–Ω–∏—Ö) —è–∫–æ—Å—å –Ω–µ –¥—É–∂–µ —Ö–æ—á–µ—Ç—å—Å—è, —Ç–æ–º—É —Å–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ—Å—è –ø–∞–∫–µ—Ç–æ–º `corrplot`, —ñ –æ–¥—Ä–∞–∑—É –≤–∏–≤–µ–¥–µ–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É –Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—É –∑–Ω–∞—á—É—â—ñ—Å—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑–º—ñ–Ω–Ω–∏—Ö:

```R
res <- cor.mtest(mtcars, conf.level = .95)

corrplot(
  M,
  p.mat = res$p, 
  sig.level = .05,
  order = "hclust", 
  addrect = 3
)
```
![corrplot](https://github.com/Sky-Nik/data-analysis/blob/master/labs/lab-2/corrplot.png)

”ÊÂ Á‡‡Á ·‡˜ËÏÓ ˘Ó Ï≥Ê ‚‡„Ó˛ `wt` ≥ ıÓ‰ÓÏ Ì‡ Ó‰ËÌËˆ˛ Ô‡ÎË‚‡ `mpg` ∫ Ó·ÂÌÂÌ‡ Á‡ÎÂÊÌ≥ÒÚ¸, ÔË˜ÓÏÛ Ì‡ÈÒËÎ¸Ì≥¯‡ (‡·Ó Ó‰Ì‡ Á Ú‡ÍËı) ÒÂÂ‰ ‚Ò≥ı Ô‡ ÓÁÌ‡Í (ÁÏ≥ÌÌËı). 

œ≥‰Ú‚Â‰ËÏÓ Ì‡¯≥ ‚ËÒÌÓ‚ÍË Á‡ ‰ÓÔÓÏÓ„Ó˛ ÍÓÂÙ≥ˆ≥∫ÌÚ≥‚ ÍÓÂÎˇˆ≥ø (ÔË ˆ¸ÓÏÛ Ï≥Ì≥Ï‡ÎÌ¸Ó ÔÓ„‡∫ÏÓÒˇ Á ‡Î¸ÚÂÌ‡ÚË‚‡ÏË ≥ ≥‚ÌÂÏ ÁÌ‡˜Û˘ÓÒÚ≥, ÔÓÒÚÓ ‰Îˇ ‰ÂÏÓÌÒÚ‡ˆ≥ø ÏÓÊÎË‚ÓÒÚÂÈ ÙÛÌÍˆ≥ø `cor.test()`):

* œ≥ÒÓÌ‡:
```R
cor.test(
  mtcars$mpg, 
  mtcars$wt,
  alternative = "two.sided",
  method = "pearson",
  conf.level = 0.95
)$estimate  # -0.8676594 
```
*  ÂÌ‰ÂÎ‡:
```R
cor.test(
  mtcars$mpg, 
  mtcars$wt,
  alternative = "greater",
  method = "kendall",
  conf.level = 0.9,
  exact = FALSE
)$estimate  # -0.7278321
```
* ≥ —Ô≥ÏÂÌ‡:
```R
cor.test(
  mtcars$mpg, 
  mtcars$wt,
  alternative = "less",
  method = "spearman",
  conf.level = 0.8,
  exact = FALSE
)$estimate  # -0.886422
```
—Ô‡‚‰≥ ·‡˜ËÏÓ ÒÛÚÚ∫‚Û Á‚ÓÓÚÌ˛ Á‡ÎÂÊÌ≥ÒÚ¸.
